# cashについて

## 3段階bitmapアロケーター
### 概要
bitmapを3段階に展開し、shift演算とxor演算で空を見つけ出す

Layer1 は
- 0: 空
- 1: 割り当て済み
- cp = 512B
- len = 1024blocks
- block_size 512KB

Layer2 は
- A0: 空
- A1: 割り当て済み
- B0: 512B以下の割り当てが可能
- B1: 割り当て済み
- C2Byte: 最大連続領域のサイズ
- cp = 512KB(from Layer1 block size)
- len: 1024bit(512blocks)
- block_size 256MB

Layer3 は
- 0000: 空
- 0001: 224MB以下の割り当てが可能
- 0010: 192MB以下の割り当てが可能
- 0011: 160MB以下の割り当てが可能
- 0100: 128MB以下の割り当てが可能
- 0101: 96MB以下の割り当てが可能
- 0110: 64MB以下の割り当てが可能
- 0111: 48MB以下の割り当てが可能
- 1000: 32MB以下の割り当てが可能
- 1001: 16MB以下の割り当てが可能
- 1010: 8MB以下の割り当てが可能
- 1011: 4MB以下の割り当てが可能
- 1100: 2MB以下の割り当てが可能
- 1101: 1MB以下の割り当てが可能
- 1110: 512B以下の割り当てが可能
- 1111: 全割り当て済み
- cp = 256MB(from Layer2 block size)
- len: n(任意)
